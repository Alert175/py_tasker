{"version":3,"sources":["webpack:///./src/components/UserCard.vue?b723","webpack:///src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?7643","webpack:///./src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?645a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","close","attrs","_v","ref","domProps","info","copy_id","logout","delete_user","info_for_popup","popup_color","$event","show_popup","_e","staticRenderFns","component"],"mappings":"iHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQC,GAAG,CAAC,MAAQP,EAAIQ,QAAQ,CAACJ,EAAG,MAAM,CAACE,YAAY,aAAaG,MAAM,CAAC,IAAM,oBAAoB,IAAM,aAAaL,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIU,GAAG,6BAA6BN,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAaG,MAAM,CAAC,IAAM,kBAAkB,IAAM,UAAUL,EAAG,QAAQ,CAACO,IAAI,WAAWF,MAAM,CAAC,KAAO,QAAQG,SAAS,CAAC,MAAQZ,EAAIa,UAAUT,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIc,UAAU,CAACd,EAAIU,GAAG,kBAAkBN,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmBC,GAAG,CAAC,MAAQP,EAAIe,SAAS,CAACX,EAAG,MAAM,CAACE,YAAY,OAAOG,MAAM,CAAC,IAAM,oBAAoB,IAAM,YAAYL,EAAG,SAAS,CAACJ,EAAIU,GAAG,aAAaN,EAAG,MAAM,CAACE,YAAY,mBAAmBC,GAAG,CAAC,MAAQP,EAAIgB,cAAc,CAACZ,EAAG,MAAM,CAACE,YAAY,OAAOG,MAAM,CAAC,IAAM,oBAAoB,IAAM,iBAAiBL,EAAG,SAAS,CAACJ,EAAIU,GAAG,sBAAsBN,EAAG,aAAa,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,CAAET,EAAc,WAAEI,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAOT,EAAIiB,eAAe,MAAQjB,EAAIkB,aAAaX,GAAG,CAAC,YAAc,SAASY,GAAQnB,EAAIoB,YAAa,MAAUpB,EAAIqB,MAAM,IAAI,MAC70CC,EAAkB,G,wBC8BtB,YACA,GACA,OACA,SACA,YACA,eAGA,YACA,iEAEA,uBACA,UACA,cACA,oBACA,yBACA,kBACA,yBAEA,SACA,WADA,SACA,KACA,sBACA,mBACA,oBAEA,WANA,WAOA,oBACA,uBAEA,uCACA,0CAGA,sCAGA,QAjBA,WAiBA,WACA,IACA,0BACA,WACA,6BACA,wCACA,6BACA,oCACA,mBACA,uBACA,YACA,KAEA,SACA,6CACA,kCACA,qBAGA,MApCA,WAqCA,+BAEA,OAvCA,YAwCA,yBACA,6GACA,yBAGA,mCACA,gCACA,yBAGA,YAlDA,iKAmDA,6BAnDA,gBAoDA,sIACA,4BArDA,gDAyDA,+BACA,0CA1DA,OAyDA,EAzDA,OA4DA,gBACA,mCACA,gCACA,wBA/DA,qDAkEA,6BAlEA,mHAuEA,QAzFA,WA0FA,oBC1HkV,I,wBCQ9UC,EAAY,eACd,EACAxB,EACAuB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,oECnBf,yBAAkiB,EAAG","file":"js/UserCard.bcf5fd4c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper-fixed\"},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.close}},[_c('img',{staticClass:\"icon-image\",attrs:{\"src\":\"images/cancel.svg\",\"alt\":\"close\"}})]),_c('div',{staticClass:\"content grid-center\"},[_c('div',{staticClass:\"header\"},[_vm._v(\"информация пользователя\")]),_c('div',{staticClass:\"key-user grid-center\"},[_c('div',{staticClass:\"container grid-center\"},[_c('img',{staticClass:\"icon-image\",attrs:{\"src\":\"images/edit.svg\",\"alt\":\"edit\"}}),_c('input',{ref:\"user_key\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.info}})]),_c('button',{on:{\"click\":_vm.copy_id}},[_vm._v(\"Копировать\")])]),_c('div',{staticClass:\"control grid-center\"},[_c('div',{staticClass:\"item grid-center\",on:{\"click\":_vm.logout}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"images/logout.svg\",\"alt\":\"logout\"}}),_c('button',[_vm._v(\"Выйти\")])]),_c('div',{staticClass:\"item grid-center\",on:{\"click\":_vm.delete_user}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"images/delete.svg\",\"alt\":\"delete_user\"}}),_c('button',[_vm._v(\"Удалить у.з.\")])])]),_c('transition',{attrs:{\"name\":\"show\",\"mode\":\"out-in\"}},[(_vm.show_popup)?_c('popup',{attrs:{\"info\":_vm.info_for_popup,\"color\":_vm.popup_color},on:{\"close_popup\":function($event){_vm.show_popup = false}}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"wrapper-fixed\">\r\n\t\t<div class=\"close\" @click=\"close\">\r\n\t\t\t<img class=\"icon-image\" src=\"images/cancel.svg\" alt=\"close\">\r\n\t\t</div>\r\n\t\t<div class=\"content grid-center\">\r\n\t\t\t<div class=\"header\">информация пользователя</div>\r\n\t\t\t<div class=\"key-user grid-center\">\r\n\t\t\t\t<div class=\"container grid-center\">\r\n\t\t\t\t\t<img class=\"icon-image\" src=\"images/edit.svg\" alt=\"edit\">\r\n\t\t\t\t\t<input type=\"text\" :value=\"info\" ref=\"user_key\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<button @click=\"copy_id\">Копировать</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"control grid-center\">\r\n\t\t\t\t<div class=\"item grid-center\" @click=\"logout\">\r\n\t\t\t\t\t<img class=\"icon\" src=\"images/logout.svg\" alt=\"logout\">\r\n\t\t\t\t\t<button>Выйти</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"item grid-center\" @click=\"delete_user\">\r\n\t\t\t\t\t<img class=\"icon\" src=\"images/delete.svg\" alt=\"delete_user\">\r\n\t\t\t\t\t<button>Удалить у.з.</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<transition name=\"show\" mode=\"out-in\">\r\n\t\t\t\t<popup v-if=\"show_popup\" :info=\"info_for_popup\" :color=\"popup_color\" @close_popup=\"show_popup = false\"></popup>\r\n\t\t\t</transition>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nconst axios = require(\"axios\");\r\nexport default {\r\n\tprops:{\r\n\t\tuser_id:{\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n\t\tpopup: ()=> import(/* webpackChunkName: \"Popup\" */ \"@/components/Popup.vue\")\r\n\t},\r\n\tdata: ()=> ({\r\n\t\tinfo: null,\r\n\t\tshow_popup: false,\r\n\t\tinfo_for_popup: null,\r\n\t\tpopup_color: \"0, 0, 0, 0\",\r\n\t\twarning_logout: false,\r\n\t\twarning_delete_user: false\r\n\t}),\r\n\tmethods: {\r\n\t\tcall_popup(text, color){\r\n\t\t\tthis.info_for_popup = text;\r\n\t\t\tthis.popup_color = color;\r\n\t\t\tthis.show_popup = true;\r\n\t\t},\r\n\t\tread_props(){\r\n\t\t\tif(this.user_id !== null){\r\n\t\t\t\tthis.info = this.user_id;\r\n\t\t\t}\r\n\t\t\telse if(localStorage.getItem(\"user_id\") !== null){\r\n\t\t\t\tthis.info = localStorage.getItem(\"user_id\");\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconsole.error(\"user info not found\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tcopy_id(){\r\n\t\t\ttry{\r\n\t\t\t\tlet buffer = this.$refs.user_key;\r\n\t\t\t\tbuffer.select();\r\n\t\t\t\tdocument.execCommand(\"copy\");\r\n\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t\tthis.info_for_popup = \"Готово\";\r\n\t\t\t\tthis.popup_color = \"102, 170, 255, 1\";\r\n\t\t\t\tthis.show_popup = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t\tcatch{\r\n\t\t\t\tthis.info_for_popup = \"ошибка при копировании\";\r\n\t\t\t\tthis.popup_color = \"255, 98, 98, 1\";\r\n\t\t\t\tthis.show_popup = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tclose(){\r\n\t\t\tthis.$emit(\"close_user_info\")\r\n\t\t},\r\n\t\tlogout(){\r\n\t\t\tif(this.warning_logout === false){\r\n\t\t\t\tthis.call_popup(\"Не забудьте сохранить ID пользователя, для выхода нажмите кнопку еще раз\", \"255, 98, 98, 1\");\r\n\t\t\t\tthis.warning_logout = true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tlocalStorage.removeItem(\"user_id\");\r\n\t\t\t\tlocalStorage.removeItem(\"auth\");\r\n\t\t\t\tthis.$router.push(\"/\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync delete_user(){\r\n\t\t\tif(this.warning_delete_user === false){\r\n\t\t\t\tthis.call_popup(\"Внимание, ваша учетная запись будет безвозратно удалена, для подтверждения нажмите кнопку еще раз\", \"255, 98, 98, 1\");\r\n\t\t\t\tthis.warning_delete_user = true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await axios.post(\"api/auth/delete_user\",{\r\n\t\t\t\t\t\t\"id_user\": localStorage.getItem(\"user_id\")\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(response.status == 200){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"user_id\");\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"auth\");\r\n\t\t\t\t\t\tthis.$router.push(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(error.response)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.read_props()\r\n\t}\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.wrapper-fixed{\r\n\t\t.content{\r\n\t\t\tgrid-template-rows: 1fr 2fr 1fr;\r\n\t\t\t.key-user{\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\t.container{\r\n\t\t\t\t\tgrid-auto-flow: column;\r\n\t\t\t\t\tpadding-bottom: 5px;\r\n\t\t\t\t\tborder-bottom: 1px solid $dark;\r\n\t\t\t\t\tmargin: 5vh auto;\r\n\t\t\t\t\tinput{\r\n\t\t\t\t\t\tfont-size: 1.1rem;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbutton{\r\n\t\t\t\t\tpadding: 10px 25px;\r\n\t\t\t\t\ttext-transform: uppercase;\r\n\t\t\t\t\tborder: 1px solid $dark;\r\n\t\t\t\t\tborder-radius: 100px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.control{\r\n\t\t\t\tgrid-template-columns: auto auto;\r\n\t\t\t\t.item{\r\n\t\t\t\t\tgrid-template-columns: auto auto;\r\n\t\t\t\t\tgrid-column-gap: 5px;\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\tpadding: 10px 15px;\r\n\t\t\t\t\tborder: 1px solid $dark;\r\n\t\t\t\t\tborder-radius: 100px;\r\n\t\t\t\t\timg{\r\n\t\t\t\t\t\theight: 20px;\r\n\t\t\t\t\t\twidth: auto;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbutton{\r\n\t\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t\t\ttext-transform: uppercase;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.show-enter-active, .show-leave-active {\r\n\t\ttransition: .5s;\r\n\t}\r\n\t.show-enter, .show-leave-to{\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCard.vue?vue&type=template&id=1fe239a2&scoped=true&\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserCard.vue?vue&type=style&index=0&id=1fe239a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fe239a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=style&index=0&id=1fe239a2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=style&index=0&id=1fe239a2&lang=scss&scoped=true&\""],"sourceRoot":""}